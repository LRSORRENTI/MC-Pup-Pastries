<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Pup Pastries</title>
    <link rel="icon" type="image/ico" href="./BEAR.ico">
    <link rel="stylesheet" href="./style.css" />
  </head>
  <body>
    <div class="banner">
      <img id="bear" src="imgs/BEAR.jpg" alt="" />
    </div>
    <div id="main-container">
      <p id="head-cont">Tasty treats baked fresh daily</p>
      <p id="main-cont-p">
        Fresh and natural dog treats made locally in Wauwatosa, Wisconsin
      </p>
    </div>
    <section class="articles">
      <article>
        <div class="article-wrapper">
          <figure>
            <img id="bisq" src="./imgs/biscuits.jpg" alt="" />
          </figure>
          <div class="article-body">
            <h2>Bear's Biscuits</h2>
            <p class="article-p">This is a description of the pastry lorem ipsum dolor</p>
            <a href="#" class="read-more">
              <span class="sr-only"> details about pastry</span>
              <svg
                xmlns="http://www.w3.org/2000/svg"
                class="icon"
                viewBox="0 0 20 20"
                fill="currentColor"
              >
                <path
                  fill-rule="evenodd"
                  d="M12.293 5.293a1 1 0 011.414 0l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-2.293-2.293a1 1 0 010-1.414z"
                  clip-rule="evenodd"
                />
              </svg>
            </a>
          </div>
        </div>
      </article>
      <article>
        <div class="article-wrapper">
          <figure>
            <img id="img1" src="./imgs/ginger.jpg" alt="" />
          </figure>
          <div class="article-body">
            <h2>Chloe's Cupcakes</h2>
            <p class="article-p">This is a description of the pastry lorem ipsum dolor</p>
            <a href="#" class="read-more">
              <span class="sr-only"> details about pastry</span>
              <svg
                xmlns="http://www.w3.org/2000/svg"
                class="icon"
                viewBox="0 0 20 20"
                fill="currentColor"
              >
                <path
                  fill-rule="evenodd"
                  d="M12.293 5.293a1 1 0 011.414 0l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-2.293-2.293a1 1 0 010-1.414z"
                  clip-rule="evenodd"
                />
              </svg>
            </a>
          </div>
        </div>
      </article>
    </section>
    <section class="footer">
      <!-- <div class="social">
              <a href="#"><i class="fab fa-instagram"></i></a>
              <a href="#"><i class="fab fa-snapchat"></i></a>
              <a href="#"><i class="fab fa-twitter"></i></a>
              <a href="#"><i class="fab fa-facebook-f"></i></a>
            </div> -->
      <ul class="list">
        <li>
          <a id="footer-a" href="#">Home</a>
        </li>
        <li>
          <section class="intro">
            <button class="popup-open">Contact</button>
            <div class="popup-wrapper">
              <div class="popup">
                <button class="close-btn"></button> <!-- Fixed the opening tag here -->
                <form name="contact" class="popup-form" method="POST" data-netlify="true" data-netlify-function="send-email">
                  <h2 class="popup-form__title">Contact Us</h2>
                  <input
                    type="text"
                    name="name" 
                    class="popup-form__input"
                    placeholder="Name"
                    required
                  />
                  <input
                    type="email" 
                    name="email" 
                    class="popup-form__input"
                    placeholder="Email"
                    required
                  />
                  <textarea
                    class="popup-form__input"
                    placeholder="Enter a message"
                    name="message"
                    id="messageArea"
                    cols="30"
                    rows="10"
                    required
                  ></textarea>
                  <button type="submit" class="popup-form__submit">Send</button>
                </form>
                
              </div>
            </div>
          </section>
          
        </li>
        <li>
          <a id="footer-a" href="#">About</a>
        </li>
      </ul>
      <p class="copyright">Pup Pastries @ 2023</p>
    </section>
    <script src="./index.js"></script>
    <script>
      document.addEventListener('DOMContentLoaded', function () {
        var form = document.querySelector('.popup-form');
        
        form.addEventListener('submit', function (e) {
          e.preventDefault();
          var formData = new FormData(form);
          // fetch('http://localhost:3000/send', {
          fetch('https://salty-oasis-03258-8b35f69aa684.herokuapp.com/send', {
            method: 'POST',
            body: formData, 
            mode: 'no-cors'
          })
          .then(response => response.json())
          .then(data => {
            if (data.status === 'success') {
              showMessage('Email sent successfully!');
              form.reset();
            } else {
              showMessage('Failed to send email.');
            }
          })
          .catch(error => {
            console.error('Error:', error);
            showMessage('Failed to send email.');
          });
        });
        
        function showMessage(message) {
          var messageDiv = document.createElement('div');
          messageDiv.textContent = message;
          
          messageDiv.style.position = 'fixed';
          messageDiv.style.top = '50%';
          messageDiv.style.left = '50%';
          messageDiv.style.transform = 'translate(-50%, -50%)';
          messageDiv.style.backgroundColor = '#87a597';
          messageDiv.style.padding = '30px';
          messageDiv.style.borderRadius = '5px';
          messageDiv.style.boxShadow = '0 4px 6px rgba(0, 0, 0, 0.1)';
          messageDiv.style.textAlign = 'center';
          messageDiv.style.zIndex = '1000';
          messageDiv.style.border = '3px solid white';
          
          document.body.appendChild(messageDiv);
          
          setTimeout(function() {
            document.body.removeChild(messageDiv);
          }, 3000);
        }
      });
    </script>
    

  </body>
</html>